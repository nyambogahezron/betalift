{
  "info": {
    "_postman_id": "b8c9c0c9-7d23-4b02-a35d-5b8d8d4f4e11",
    "name": "Betalift API",
    "description": "Postman collection for Betalift API (v1) covering auth, users, projects, feedback, conversations, and notifications. Collection-level bearer auth uses {{accessToken}}; tests set common variables.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:5000/api/v1" },
    { "key": "testEmail", "value": "tester@example.com" },
    { "key": "testPassword", "value": "Passw0rd!" },
    { "key": "testUsername", "value": "testuser" },
    { "key": "displayName", "value": "Test User" },
    { "key": "accessToken", "value": "" },
    { "key": "refreshToken", "value": "" },
    { "key": "userId", "value": "" },
    { "key": "projectId", "value": "" },
    { "key": "feedbackId", "value": "" },
    { "key": "commentId", "value": "" },
    { "key": "joinRequestId", "value": "" },
    { "key": "releaseId", "value": "" },
    { "key": "conversationId", "value": "" },
    { "key": "notificationId", "value": "" },
    { "key": "participantId", "value": "" },
    { "key": "verificationToken", "value": "" },
    { "key": "passwordResetToken", "value": "" }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// generate unique credentials for registration",
                  "const timestamp = Date.now();",
                  "pm.collectionVariables.set('testEmail', `user+${timestamp}@example.com`);",
                  "pm.collectionVariables.set('testUsername', `user_${timestamp}`);",
                  "pm.collectionVariables.set('displayName', `User ${timestamp}`);",
                  "pm.collectionVariables.set('testPassword', pm.collectionVariables.get('testPassword') || 'Passw0rd!');"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const json = pm.response.json();",
                  "pm.test('status 201', () => pm.response.to.have.status(201));",
                  "pm.test('success true', () => pm.expect(json.success).to.be.true);",
                  "pm.collectionVariables.set('accessToken', json.data.accessToken);",
                  "pm.collectionVariables.set('refreshToken', json.data.refreshToken);",
                  "pm.collectionVariables.set('userId', json.data.user?.id || json.data.user?._id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"{{testPassword}}\",\n  \"username\": \"{{testUsername}}\",\n  \"displayName\": \"{{displayName}}\",\n  \"role\": \"both\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/auth/register", "host": ["{{baseUrl}}"], "path": ["auth", "register"] }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const json = pm.response.json();",
                  "pm.test('status 200', () => pm.response.to.have.status(200));",
                  "pm.test('success true', () => pm.expect(json.success).to.be.true);",
                  "pm.collectionVariables.set('accessToken', json.data.accessToken);",
                  "pm.collectionVariables.set('refreshToken', json.data.refreshToken);",
                  "pm.collectionVariables.set('userId', json.data.user?.id || json.data.user?._id);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"{{testPassword}}\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/auth/login", "host": ["{{baseUrl}}"], "path": ["auth", "login"] }
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const json = pm.response.json();",
                  "pm.test('status 200', () => pm.response.to.have.status(200));",
                  "pm.test('has access token', () => pm.expect(json.data.accessToken).to.be.a('string'));",
                  "pm.collectionVariables.set('accessToken', json.data.accessToken);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/refresh", "host": ["{{baseUrl}}"], "path": ["auth", "refresh"] }
          }
        },
        {
          "name": "Logout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('status 200', () => pm.response.to.have.status(200));",
                  "pm.test('success true', () => pm.expect(pm.response.json().success).to.be.true);"
                ]
              }
            }
          ],
          "request": {
            "auth": { "type": "bearer", "bearer": [{"key": "token", "value": "{{accessToken}}", "type": "string"}] },
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/auth/logout", "host": ["{{baseUrl}}"], "path": ["auth", "logout"] }
          }
        },
        {
          "name": "Get Current User",
          "event": [
            {
              "listen": "test",
              "script": { "type": "text/javascript", "exec": [
                "const json = pm.response.json();",
                "pm.test('status 200', () => pm.response.to.have.status(200));",
                "pm.collectionVariables.set('userId', json.data?.id || json.data?._id);"
              ]}
            }
          ],
          "request": {
            "auth": { "type": "bearer", "bearer": [{"key": "token", "value": "{{accessToken}}", "type": "string"}] },
            "method": "GET",
            "url": { "raw": "{{baseUrl}}/auth/me", "host": ["{{baseUrl}}"], "path": ["auth", "me"] }
          }
        },
        {
          "name": "Verify Email",
          "event": [
            { "listen": "test", "script": { "type": "text/javascript", "exec": [
              "pm.test('status 200 or 400', () => pm.expect([200,400]).to.include(pm.response.code));"
            ]}}
          ],
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"token\": \"{{verificationToken}}\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/verify-email", "host": ["{{baseUrl}}"], "path": ["auth", "verify-email"] }
          }
        },
        {
          "name": "Forgot Password",
          "event": [
            { "listen": "test", "script": { "type": "text/javascript", "exec": [
              "pm.test('status 200', () => pm.response.to.have.status(200));"
            ]}}
          ],
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"{{testEmail}}\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/forgot-password", "host": ["{{baseUrl}}"], "path": ["auth", "forgot-password"] }
          }
        },
        {
          "name": "Reset Password",
          "event": [
            { "listen": "test", "script": { "type": "text/javascript", "exec": [
              "pm.test('status 200 or 400', () => pm.expect([200,400]).to.include(pm.response.code));"
            ]}}
          ],
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"token\": \"{{passwordResetToken}}\",\n  \"password\": \"NewPassw0rd!\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/reset-password", "host": ["{{baseUrl}}"], "path": ["auth", "reset-password"] }
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "url": { "raw": "{{baseUrl}}/users?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["users"], "query": [{"key":"page","value":"1"},{"key":"limit","value":"10"}] }
          },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));","pm.test('has data.users', () => pm.expect(pm.response.json().data.users).to.be.an('array'));"]}}]
        },
        {
          "name": "Get User By Id",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/users/{{userId}}", "host": ["{{baseUrl}}"], "path": ["users","{{userId}}"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Update User",
          "request": {
            "auth": { "type": "bearer", "bearer": [{"key":"token","value":"{{accessToken}}","type":"string"}] },
            "method": "PATCH",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": { "mode": "raw", "raw": "{\n  \"displayName\": \"Updated User\",\n  \"bio\": \"Updated bio\"\n}" },
            "url": { "raw": "{{baseUrl}}/users/{{userId}}", "host": ["{{baseUrl}}"], "path": ["users","{{userId}}"] }
          },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Delete User",
          "request": {
            "auth": { "type": "bearer", "bearer": [{"key":"token","value":"{{accessToken}}","type":"string"}] },
            "method": "DELETE",
            "url": { "raw": "{{baseUrl}}/users/{{userId}}", "host": ["{{baseUrl}}"], "path": ["users","{{userId}}"] }
          },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "User Stats",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/users/{{userId}}/stats", "host": ["{{baseUrl}}"], "path": ["users","{{userId}}","stats"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Update Settings",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"settings\": {\n    \"notifications\": {\"email\": true}\n  }\n}"}, "url": {"raw":"{{baseUrl}}/users/{{userId}}/settings","host":["{{baseUrl}}"],"path":["users","{{userId}}","settings"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Get Engagement",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "GET", "url": {"raw":"{{baseUrl}}/users/{{userId}}/engagement","host":["{{baseUrl}}"],"path":["users","{{userId}}","engagement"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Update Engagement",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"lastActiveAt\": \"{{{{$timestamp}}}}\"\n}"}, "url": {"raw":"{{baseUrl}}/users/{{userId}}/engagement","host":["{{baseUrl}}"],"path":["users","{{userId}}","engagement"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        }
      ]
    },
    {
      "name": "Projects",
      "item": [
        {
          "name": "List Projects",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["projects"], "query": [{"key":"page","value":"1"},{"key":"limit","value":"10"}] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));","pm.test('has data.projects', () => pm.expect(pm.response.json().data.projects).to.be.an('array'));"]}}]
        },
        {
          "name": "Create Project",
          "request": {
            "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]},
            "method": "POST",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"name\": \"Sample Project\",\n  \"description\": \"A sample project created from Postman\",\n  \"techStack\": [\"react-native\", \"node\"],\n  \"category\": \"mobile-app\",\n  \"isPublic\": true\n}"},
            "url": {"raw":"{{baseUrl}}/projects","host":["{{baseUrl}}"],"path":["projects"]}
          },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 201', () => pm.response.to.have.status(201));","pm.collectionVariables.set('projectId', json.data?.id || json.data?._id);"]}}]
        },
        {
          "name": "Get Project",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects/{{projectId}}", "host": ["{{baseUrl}}"], "path": ["projects","{{projectId}}"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Update Project",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"status\": \"beta\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}","host":["{{baseUrl}}"],"path":["projects","{{projectId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Delete Project",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/projects/{{projectId}}","host":["{{baseUrl}}"],"path":["projects","{{projectId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Project Members",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects/{{projectId}}/members", "host": ["{{baseUrl}}"], "path": ["projects","{{projectId}}","members"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "List Join Requests",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "GET", "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/requests","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","requests"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Create Join Request",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"message\": \"Let me join\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/requests","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","requests"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 201 or 200', () => pm.expect([200,201]).to.include(pm.response.code));","pm.collectionVariables.set('joinRequestId', json.data?.id || json.data?._id || json.data?.requestId);"]}}]
        },
        {
          "name": "Update Join Request",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"status\": \"approved\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/requests/{{joinRequestId}}","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","requests","{{joinRequestId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "List Releases",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects/{{projectId}}/releases", "host": ["{{baseUrl}}"], "path": ["projects","{{projectId}}","releases"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Create Release",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"version\": \"1.0.0\",\n  \"title\": \"Initial release\",\n  \"description\": \"First build\",\n  \"status\": \"draft\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/releases","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","releases"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 201', () => pm.response.to.have.status(201));","pm.collectionVariables.set('releaseId', json.data?.id || json.data?._id);"]}}]
        },
        {
          "name": "Get Release",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects/{{projectId}}/releases/{{releaseId}}", "host": ["{{baseUrl}}"], "path": ["projects","{{projectId}}","releases","{{releaseId}}"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Update Release",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"status\": \"published\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/releases/{{releaseId}}","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","releases","{{releaseId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Delete Release",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/releases/{{releaseId}}","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","releases","{{releaseId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "List Project Feedback",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/projects/{{projectId}}/feedback?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["projects","{{projectId}}","feedback"], "query": [{"key":"page","value":"1"},{"key":"limit","value":"10"}] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Create Project Feedback",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"type\": \"bug\",\n  \"title\": \"Bug report\",\n  \"description\": \"Button not working\",\n  \"priority\": \"medium\"\n}"}, "url": {"raw":"{{baseUrl}}/projects/{{projectId}}/feedback","host":["{{baseUrl}}"],"path":["projects","{{projectId}}","feedback"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 201', () => pm.response.to.have.status(201));","pm.collectionVariables.set('feedbackId', json.data?.id || json.data?._id);"]}}]
        }
      ]
    },
    {
      "name": "Feedback",
      "item": [
        {
          "name": "Get Feedback By Id",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/feedback/{{feedbackId}}", "host": ["{{baseUrl}}"], "path": ["feedback","{{feedbackId}}"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Update Feedback",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"status\": \"open\"\n}"}, "url": {"raw":"{{baseUrl}}/feedback/{{feedbackId}}","host":["{{baseUrl}}"],"path":["feedback","{{feedbackId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Delete Feedback",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/feedback/{{feedbackId}}","host":["{{baseUrl}}"],"path":["feedback","{{feedbackId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "List Comments",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/feedback/{{feedbackId}}/comments", "host": ["{{baseUrl}}"], "path": ["feedback","{{feedbackId}}","comments"] } },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Create Comment",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"content\": \"Looks good!\"\n}"}, "url": {"raw":"{{baseUrl}}/feedback/{{feedbackId}}/comments","host":["{{baseUrl}}"],"path":["feedback","{{feedbackId}}","comments"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 201', () => pm.expect([200,201]).to.include(pm.response.code));","pm.collectionVariables.set('commentId', json.data?.id || json.data?._id);"]}}]
        },
        {
          "name": "Delete Comment",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/feedback/{{feedbackId}}/comments/{{commentId}}","host":["{{baseUrl}}"],"path":["feedback","{{feedbackId}}","comments","{{commentId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Vote Feedback",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "url": {"raw":"{{baseUrl}}/feedback/{{feedbackId}}/vote","host":["{{baseUrl}}"],"path":["feedback","{{feedbackId}}","vote"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.expect([200,201]).to.include(pm.response.code));"]}}]
        }
      ]
    },
    {
      "name": "Conversations",
      "item": [
        {
          "name": "List Conversations",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "GET", "url": {"raw":"{{baseUrl}}/conversations","host":["{{baseUrl}}"],"path":["conversations"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));"]}}]
        },
        {
          "name": "Create Conversation",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"participantId\": \"{{participantId}}\"\n}"}, "url": {"raw":"{{baseUrl}}/conversations","host":["{{baseUrl}}"],"path":["conversations"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["const json = pm.response.json();","pm.test('status 200 or 201', () => pm.expect([200,201]).to.include(pm.response.code));","pm.collectionVariables.set('conversationId', json.data?.id || json.data?._id);"]}}]
        },
        {
          "name": "Get Messages",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "GET", "url": {"raw":"{{baseUrl}}/conversations/{{conversationId}}/messages?page=1&limit=20","host":["{{baseUrl}}"],"path":["conversations","{{conversationId}}","messages"],"query":[{"key":"page","value":"1"},{"key":"limit","value":"20"}]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 403', () => pm.expect([200,403,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Send Message",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "body": {"mode":"raw","raw":"{\n  \"content\": \"Hello!\",\n  \"type\": \"text\"\n}"}, "url": {"raw":"{{baseUrl}}/conversations/{{conversationId}}/messages","host":["{{baseUrl}}"],"path":["conversations","{{conversationId}}","messages"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 201 or 404', () => pm.expect([201,404,403]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Mark As Read",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "url": {"raw":"{{baseUrl}}/conversations/{{conversationId}}/read","host":["{{baseUrl}}"],"path":["conversations","{{conversationId}}","read"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404,403]).to.include(pm.response.code));"]}}]
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "List Notifications",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "GET", "url": {"raw":"{{baseUrl}}/notifications?page=1&limit=20","host":["{{baseUrl}}"],"path":["notifications"],"query":[{"key":"page","value":"1"},{"key":"limit","value":"20"}]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.response.to.have.status(200));","const res = pm.response.json();","if (res.data?.notifications?.[0]) pm.collectionVariables.set('notificationId', res.data.notifications[0].id || res.data.notifications[0]._id);"]}}]
        },
        {
          "name": "Mark All Read",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "url": {"raw":"{{baseUrl}}/notifications/read-all","host":["{{baseUrl}}"],"path":["notifications","read-all"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Delete All Notifications",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/notifications","host":["{{baseUrl}}"],"path":["notifications"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200', () => pm.expect([200,404]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Mark Notification Read",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "PATCH", "url": {"raw":"{{baseUrl}}/notifications/{{notificationId}}/read","host":["{{baseUrl}}"],"path":["notifications","{{notificationId}}","read"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404,403]).to.include(pm.response.code));"]}}]
        },
        {
          "name": "Delete Notification",
          "request": { "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{accessToken}}","type":"string"}]}, "method": "DELETE", "url": {"raw":"{{baseUrl}}/notifications/{{notificationId}}","host":["{{baseUrl}}"],"path":["notifications","{{notificationId}}"]} },
          "event": [{"listen":"test","script":{"type":"text/javascript","exec":["pm.test('status 200 or 404', () => pm.expect([200,404,403]).to.include(pm.response.code));"]}}]
        }
      ]
    }
  ]
}
